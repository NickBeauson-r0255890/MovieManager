<div *ngIf="movie$ | async as movie" class="container mt-2">
  <button class="btn btn-secondary" (click)="goToMovies(movie)">Back</button>

  <h2>{{movie.name | uppercase}} Details</h2>

  <form #movieDetailForm="ngForm" (ngSubmit)="onSubmit(movieDetailForm)">
    <input type="hidden" id="movie-id" [(ngModel)]="movie.id" name="id" #name="ngModel">
    <div class="form-group">
      <label for="movie-name">Name: </label>
      <input type="text" id="movie-name" class="form-control"
             [(ngModel)]="movie.name" name="name"
             placeholder="{{movie.name}}" #name="ngModel" required>
      <div [hidden]="name.valid || name.pristine"
           class="alert alert-danger">
        Name is required
      </div>
    </div>
    <div class="form-group">
      <label for="movie-duration">Duration: </label>
      <input type="text" id="movie-duration" class="form-control"
             [(ngModel)]="movie.duration" name="duration"
             placeholder="{{movie.duration}}" #duration="ngModel" required>
      <div [hidden]="duration.valid || duration.pristine"
           class="alert alert-danger">
        Duration is required
      </div>
    </div>
    <div class="form-group">
      <label for="movie-genre1">Genre 1: </label>
      <input type="text" id="movie-genre1" class="form-control"
             [(ngModel)]="movie.genre1" name="genre1"
             placeholder="{{movie.genre1}}" #genre1="ngModel" required>
      <div [hidden]="genre1.valid || genre1.pristine"
           class="alert alert-danger">
        At least one genre is required
      </div>
    </div>
    <div class="form-group">
      <label for="movie-genre2">Genre 2: </label>
      <input type="text" id="movie-genre2" class="form-control"
             [(ngModel)]="movie.genre2" name="genre2"
             placeholder="{{movie.genre2? movie.genre2 : 'Genre 2'}}">
    </div>
    <div class="form-group">
      <label for="movie-genre3">Genre 3: </label>
      <input type="text" id="movie-genre3" class="form-control"
             [(ngModel)]="movie.genre3" name="genre3"
             placeholder="{{movie.genre3? movie.genre3 : 'Genre 3'}}">
    </div>

    <div class="d-flex justify-content-between">
      <button class="btn btn-primary" type="submit"
              [disabled]="!movieDetailForm.form.valid">Save
      </button>

      <button class="delete" type="button" class="btn btn-danger" (click)="delete(movie)">
        <i class="bi bi-x-octagon-fill"></i>
        Delete {{movie.name}}
      </button>
    </div>

  </form>


</div>
